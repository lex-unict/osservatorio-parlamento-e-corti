<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
    <link rel="stylesheet" href="/css/custom.css?v={{ now.Unix }}">
    {{ if .Site.Params.mailchimpURL }}
    <script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/FAKE_U/FAKE_ID.js");</script>
    {{ end }}
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>
<body class="is-preload">
    <header>
        <div class="header-container">
            <div class="logo-container">
                <a href="/">
                    <img src="/images/logo.svg" alt="{{ .Site.Title }}" class="logo" id="main-logo">
                </a>
            </div>
            
            <nav class="main-nav">
                <button class="mobile-menu-toggle" aria-label="Toggle menu">
                    <span class="hamburger"></span>
                </button>
                <div class="main-nav-links"  id="main-nav-links">
                    {{ range .Site.Menus.main }}
                    <a href="{{ .URL }}" class="nav-link">{{ .Name }}</a>
                    {{ end }}
                </div>
            </nav>
        </div>
    </header>

    <main>
        {{ block "main" . }}{{ end }}
    </main>

    <footer>
        <div class="contact-section">
            <div class="contact-logo">
                <h4>{{ site.Data.footer.contact_logo.title }}</h4>
                <img src="{{ site.Data.footer.contact_logo.image }}" alt="{{ site.Data.footer.contact_logo.alt }}" class="clickable-logo">
            </div>
            <div class="contact-columns">
                <div class="contact-column">
                    <h4>{{ site.Data.footer.contact_info.title }}</h4>
                    <p>
                        {{ site.Data.footer.contact_info.department }}<br>
                        {{ site.Data.footer.contact_info.address }}<br>
                        <b>Redazione</b>: {{ site.Data.footer.contact_info.email.editorial }}<br>
                        <b>Segnalazione News</b>: {{ site.Data.footer.contact_info.email.news }}
                    </p>
                </div>
                <div class="contact-column">
                    <h4>{{ site.Data.footer.privacy.title }}</h4>
                    <ul>
                        {{ range site.Data.footer.privacy.links }}
                        <li><a href="{{ .url }}" target="_blank">{{ .text }}</a></li>
                        {{ end }}
                    </ul>
                </div>
                <div class="contact-column">
                    <h4>{{ site.Data.footer.admin_area.title }}</h4>
                    <ul>
                        {{ range site.Data.footer.admin_area.links }}
                        <li><a href="{{ .url }}" target="_blank">{{ .text }}</a></li>
                        {{ end }}
                    </ul>
                </div>
            </div>
        </div>
        <div class="copyright">
            {{ .Site.Params.copyright }}
        </div>
    </footer>

    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on("init", user => {
                if (!user) {
                    window.netlifyIdentity.on("login", () => {
                        document.location.href = "/admin/";
                    });
                }
            });
        }

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const mainNav = document.getElementById('main-nav-links');
            
            menuToggle.addEventListener('click', function() {
                menuToggle.classList.toggle('active');
                mainNav.classList.toggle('active');
            });
        });
    </script>
</body>
</html> 